# 타입스크립트 프로그래밍

## Ch 11 모나드

### Ch 11-1 모나드 이해하기

- 모나드(Monad)는 카테고리 이론(category theory)에 사용되는 용어로, 일종의 코드 설계 패턴으로서 몇 개의 인터페이스를 구현한 클래스이다.
- 타입 클래스는 ad hoc 다형성을 지원하는 타입 시스템 구조이다.
  - ad hoc이란 '특정한 목적을가진', '임시 방편'이란 의미를 가진 라틴어이다.
  - ad hoc 다형성이란 간단히 말하면 오버로딩을 의미한니다.
    - 오버로딩이란 '같은 이름을 갖지만 매개변수나 리턴타입이 각각 다를수 있다'를 말한다.
    - 함수 이름을 특정 행위에 대한 선언이라고 한다면, 특정 행위를 다양하게 구현을 하는 것이다(매개변수나 리턴타입에 상관없이).
- 타입 클래스를 사용한다면 안정성을 보장하면서도 코드의 재사용성이 뛰어난 범용 함수를 쉽게 만들 수 있다.
- 타입 T를 한 단계 더 높은 타입으로 변환하는 용도의 타입을 고차 타입(higher-kinded type)이라고 한다.
- 프로그래밍에서 카테고리는 타입의 타입, 즉 고차 타입으로 이해할 수 있으며, 모나드는 별도의 특징이 있는 고차 타입이다.

<img width="462" alt="스크린샷 2022-02-26 오후 12 34 07" src="https://user-images.githubusercontent.com/38815618/155827384-8a7ca730-52e9-47c0-8b39-cbe011bed03e.png">

**모나드 네 가지 요소**

1. 펑터(Functor): map이라는 인스턴스 메서드를 가지는 클래스
2. 어플라이(Apply): 펑터이면서 ap라는 인스턴스 메서드를 가지는 클래스
3. 애플리커티브(Applicative): 어플라이이면서 of라는 클래스 메서드를 가지는 클래스
4. 체인(Chain): 어플라이면서 chain이라는 메서드를 가지는 클래스

- 모나드 룰 법칙
  - 왼쪽 법칙(left identity): M.of(a).chain(f) == f(a)
  - 오른쪽 법칙(right identity): m.chain(M.of) == m

### Ch 11-2 Identity 모나드 이해와 구현

- 컨테이너 클래스는 구체적인 타입의 값을 가지는 것이 아니라, 모든 타입 T의 값을 가질 수 있는 제네릭 컨테이너 클래스를 생각할 수 있다.
  - 이처럼 타입 T를 가지는 값의 컨테이너를 값 컨테이너(value container)라고 한다.
- 엔도펑터(endofunctor)는 특정 카테고리에서 출발해도 도착 카테고리는 다시 출발 카테고리가 되게 하는 펑터를 의미한다.